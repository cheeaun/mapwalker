{"version":3,"file":"index.5a2e891c.js","sources":["../../vite/modulepreload-polyfill","../../src/apis.js","../../src/ls.js","../../assets/pin.png","../../assets/walk-dot-blue.png","../../assets/walk-dot-purple.png","../../assets/walk-dot-red.png","../../assets/icon-192.png","../../preact/jsx-runtime","../../src/app.jsx","../../src/main.jsx"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","const {\n  VITE_ORS_API_KEY: ORS_API_KEY,\n  VITE_GRAPHHOPPER_API_KEY: GRAPHHOPPER_API_KEY,\n} = import.meta.env;\n\nconst APIS = {\n  OSM_DE: (origin, destination) =>\n    `https://routing.openstreetmap.de/routed-foot/route/v1/driving/${origin.join(\n      ',',\n    )};${destination.join(',')}`,\n  ORS: () =>\n    `https://api.openrouteservice.org/v2/directions/foot-hiking/geojson`,\n  GHOP: () => `https://graphhopper.com/api/1/route`,\n};\n\nexport const fetchRoutes = async (origin, destination, params) => {\n  const fetch1 = fetch(\n    APIS.OSM_DE(origin, destination) +\n      '?' +\n      new URLSearchParams({\n        geometries: 'geojson',\n        overview: 'full',\n        continue_straight: false,\n        ...params,\n      }),\n  )\n    .then((r) => r.json())\n    .catch((e) => {});\n\n  const fetch2 = fetch(APIS.ORS(), {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: ORS_API_KEY,\n    },\n    body: JSON.stringify({\n      coordinates: [origin, destination],\n      instructions: false,\n    }),\n  })\n    .then((r) => r.json())\n    .catch((e) => {});\n\n  const fetch3Params = new URLSearchParams({\n    vehicle: 'foot',\n    key: GRAPHHOPPER_API_KEY,\n    instructions: true,\n    points_encoded: false,\n    point: [...origin].reverse().join(','),\n  });\n  fetch3Params.append('point', [...destination].reverse().join(','));\n  const fetch3 = fetch(APIS.GHOP() + '?' + fetch3Params)\n    .then((r) => r.json())\n    .catch((e) => {});\n\n  const [response1, response2, response3] = await Promise.all([\n    fetch1,\n    fetch2,\n    fetch3,\n  ]);\n\n  console.log({\n    response1,\n    response2,\n    response3,\n  });\n\n  const results = {\n    type: 'FeatureCollection',\n    features: [\n      {\n        type: 'Feature',\n        geometry: response1?.routes[0]?.geometry,\n        properties: {\n          index: 0,\n          provider: 'osm-de',\n          distance: response1?.routes[0]?.distance,\n        },\n      },\n      {\n        type: 'Feature',\n        geometry: response2?.features[0]?.geometry,\n        properties: {\n          index: 1,\n          provider: 'ors',\n          distance: response2?.features[0]?.properties?.summary?.distance,\n        },\n      },\n      {\n        type: 'Feature',\n        geometry: response3?.paths[0]?.points,\n        properties: {\n          index: 2,\n          provider: 'graphhopper',\n          distance: response3?.paths[0]?.distance,\n        },\n      },\n    ],\n  };\n\n  return results;\n};\n","const LS_PREFIX = 'mapwalker-';\n\nexport default {\n  get: (key) => {\n    try {\n      return JSON.parse(localStorage.getItem(LS_PREFIX + key));\n    } catch (e) {\n      return null;\n    }\n  },\n  set: (key, value) => {\n    try {\n      if (value) {\n        localStorage.setItem(LS_PREFIX + key, JSON.stringify(value));\n      } else {\n        localStorage.removeItem(LS_PREFIX + key);\n      }\n    } catch (e) {\n      // ignore\n    }\n  },\n  del: (key) => {\n    try {\n      localStorage.removeItem(LS_PREFIX + key);\n    } catch (e) {\n      // ignore\n    }\n  },\n};\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAS1BMVEVHcEz////////////////////////////////r9fx0wOw9puUOkN8xn+OTzfDY7fklmuI4pOQZld+UzfB0vuz///83pOT///91vuyKtLkHAAAAGXRSTlMAMGunv5t3GAzD3+//89fH9/H7199s8XjfKy/6XAAAAIpJREFUeAFlj4WBgDAMAEM5oJLitv+kX3u/ajyRTGd6GMZJKtbQMLbIA84H1TjDkDWGZdXCumBEJkjyum17uh2djByqwSdS2MklA1F3X1g10AuoblVxq8J/RU/QtSp2jQxycX4nPXikw62q+7bl4pDav342dtXWOWIKex1DHeaicVmpTM8A/dVJ4gNfKwijr/kcwwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAV1BMVEVHcEz////////////////////////////////////////46vj46vfz1fDz1e/djtXdjdXTbcnTbMnCM7TCM7PALLC/LLC9Ja+9Ja66GKq6GKm2DKWzAKGsmQwTAAAAHHRSTlMADBgwa2x3eJunv8PDx8fX19/f7+/x8fPz9/f7XCOcjAAAAJJJREFUeAEFwQFu3DAMADBKsu+uQLH/P7TY0jiWRwZUzND9NIKoF+DeR4h3xiu/rGvp3zNU1ndhzv2jnsq3P6XXzsh5V9fM+XHd3atH9j6ZPs6GvZWRabqBx0ckAEAelwG8PDofWyVkuJzRVufXuY3St1VHPjNijNQ/vXY5da4d5d/6u3sJYkzAeo6AnJHO0xv/AX/8TAjqcSv9AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAV1BMVEVHcEzuSnH////72+L////////////zfpn////sM17rKFbuRWv////////////1m7DuPmfuS3HuRGv87PD97PDzfpruRGzzfZn////////1m6/tPmfrHk4InpgzAAAAHHRSTlMA72vHDJts37/3+/EYMKfX8+/xw8Pf8d93eNfz3D4s5QAAAI9JREFUeF5ljssWgjAUA28LLekTEBDQ/P93yqUuPMfZzWwSUYqtgDuyNHqLL7a/3WHZDTmNgNNi0QXehA5WJAOXh5QiGVYUOfAi5+FiJnd4cZgYh5tAgyoA+WjhSQL/ocIwtBD5hhOPjTTqhhxxSsEayJiSjgNZxP8e8+06xok026LXtXh88epKPh1QfVH5APz1C0cNUS3tAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","import * as jsxRuntime from \"/home/runner/work/mapwalker/mapwalker/node_modules/preact/jsx-runtime/dist/jsxRuntime.js\"\nexport const jsx = jsxRuntime.jsx\nexport const jsxs = jsxRuntime.jsxs\nexport const Fragment = jsxRuntime.Fragment","import { useRef, useState, useEffect, useMemo } from 'preact/hooks';\nimport mapboxgl from 'mapbox-gl';\nimport Map, {\n  AttributionControl,\n  GeolocateControl,\n  Layer,\n  Marker,\n  NavigationControl,\n  Source,\n  useControl,\n} from 'react-map-gl';\nimport MapboxGeocoder from '@mapbox/mapbox-gl-geocoder';\nimport AwesomeDebouncePromise from 'awesome-debounce-promise';\nimport { BottomSheet } from 'react-spring-bottom-sheet';\nimport prettyMetric from 'pretty-metric';\nimport humanizeDuration from 'humanize-duration';\n\nimport { fetchRoutes } from './apis';\nimport LS from './ls';\nimport pinImgURL from '../assets/pin.png';\nimport walkDotBlueImgURL from '../assets/walk-dot-blue.png';\nimport walkDotPurpleImgURL from '../assets/walk-dot-purple.png';\nimport walkDotRedImgURL from '../assets/walk-dot-red.png';\nimport iconImgURL from '../assets/icon-192.png';\n\nconst { VITE_MAPBOX_ACCESS_TOKEN: MAPBOX_ACCESS_TOKEN, DEV } = import.meta.env;\n\nconst OVERVIEW_ZOOM_BACK = 2;\n\nfunction GeocoderControl(props) {\n  useControl(() => new MapboxGeocoder(props), {\n    position: props.position,\n  });\n  return null;\n}\n\nconst emptyGeoJSON = {\n  type: 'FeatureCollection',\n  features: [],\n};\n\nconst mapStyles = {\n  walkRoute: {\n    layout: {\n      'line-join': 'round',\n      'line-cap': 'round',\n    },\n    paint: {\n      'line-color': [\n        'case',\n        ['==', ['get', 'provider'], 'ors'],\n        '#95378C',\n        ['==', ['get', 'provider'], 'graphhopper'],\n        '#EB1E4E',\n        '#0E90DF',\n      ],\n      'line-opacity': ['interpolate', ['linear'], ['zoom'], 15, 1, 18, 0.5],\n      'line-width': ['interpolate', ['linear'], ['zoom'], 15, 4, 18, 14],\n      'line-dasharray': [0, 2],\n    },\n  },\n  walkRoute2: {\n    layout: {\n      'symbol-placement': 'line',\n      'symbol-spacing': [\n        'interpolate',\n        ['linear'],\n        ['zoom'],\n        10,\n        1,\n        15,\n        16,\n        19,\n        32,\n      ],\n      'icon-allow-overlap': true,\n      // 'icon-ignore-placement': true,\n      'icon-padding': 0,\n      'icon-size': ['interpolate', ['linear'], ['zoom'], 15, 0.4, 18, 0.75],\n      'icon-image': [\n        'case',\n        ['==', ['get', 'provider'], 'ors'],\n        'walk-dot-purple',\n        ['==', ['get', 'provider'], 'graphhopper'],\n        'walk-dot-red',\n        'walk-dot-blue',\n      ],\n    },\n  },\n};\n\nfunction routeInfoText(distance) {\n  // Walking speed: 1.33m per second\n  const timeDurationSecs = (distance / 1.33) * 1000;\n  return `${prettyMetric(distance).humanize()} (${humanizeDuration(\n    timeDurationSecs,\n    {\n      units: ['h', 'm'],\n      round: true,\n    },\n  )})`;\n}\n\nexport function App() {\n  const mapRef = useRef();\n  const overviewMapDivRef = useRef();\n  const overviewMapRef = useRef();\n\n  const [loading, setLoading] = useState(false);\n\n  const geolocateControlRef = useRef();\n  const [geolocationGeoJSON, setGeolocationGeoJSON] = useState(emptyGeoJSON);\n\n  const [walkRouteGeoJSON, setWalkRouteGeoJSON] = useState(\n    LS.get('walk-route') || null,\n  );\n  useEffect(() => {\n    LS.set('walk-route', walkRouteGeoJSON);\n  }, [walkRouteGeoJSON]);\n\n  const [destinationMarker, setDestinationMarker] = useState(\n    LS.get('destination-marker') || null,\n  );\n  useEffect(() => {\n    LS.set('destination-marker', destinationMarker);\n  }, [destinationMarker]);\n\n  const [markerPinned, setMarkerPinned] = useState(\n    LS.get('marker-pinned') || false,\n  );\n  useEffect(() => {\n    LS.set('marker-pinned', markerPinned);\n  }, [markerPinned]);\n\n  const clickFired = useRef(false);\n  const mapHandleClick = (e) => {\n    if (clickFired.current && !markerPinned) {\n      const { lngLat } = e;\n      setDestinationMarker(lngLat);\n    }\n  };\n  const mapHandleClickDebounced = AwesomeDebouncePromise(mapHandleClick, 350);\n  const orientationGranted = useRef(false);\n\n  const [mapTextLayerID, setMapTextLayerID] = useState(null);\n  const [legendSheetOpen, setLegendSheetOpen] = useState(false);\n  const [markerSheetOpen, setMarkerSheetOpen] = useState(false);\n  const [aboutSheetOpen, setAboutSheetOpen] = useState(\n    LS.get('not-first-time') ? false : true,\n  );\n  const backupDestinationMarker = useRef(destinationMarker);\n  const backupWalkRouteGeoJSON = useRef(walkRouteGeoJSON);\n\n  const distances = useMemo(() => {\n    const info = {};\n    walkRouteGeoJSON?.features?.forEach((feature) => {\n      const { provider, distance } = feature.properties;\n      info[provider] = distance;\n    });\n    return info;\n  }, [backupWalkRouteGeoJSON]);\n\n  return (\n    <>\n      <div id=\"map\">\n        <Map\n          ref={mapRef}\n          mapboxAccessToken={MAPBOX_ACCESS_TOKEN}\n          mapStyle={`mapbox://styles/cheeaun/cl0ds1jbz003014px6nthvdle${\n            DEV ? '/draft' : ''\n          }`}\n          initialViewState={\n            LS.get('view-state') || {\n              center: [103.8198, 1.3521],\n            }\n          }\n          boxZoom={false}\n          renderWorldCopies={false}\n          maxZoom={21}\n          attributionControl={false}\n          logoPosition=\"top-right\"\n          onLoad={(e) => {\n            geolocateControlRef.current?.trigger();\n\n            const { layers } = mapRef.current.getStyle();\n            setMapTextLayerID(\n              layers.find(\n                (layer) =>\n                  layer.type === 'symbol' && layer?.layout?.['text-field'],\n              )?.id,\n            );\n\n            mapRef.current.loadImage(walkDotBlueImgURL, (error, image) => {\n              if (error) return;\n              mapRef.current.addImage('walk-dot-blue', image);\n              overviewMapRef.current.addImage('walk-dot-blue', image);\n            });\n            mapRef.current.loadImage(walkDotPurpleImgURL, (error, image) => {\n              if (error) return;\n              mapRef.current.addImage('walk-dot-purple', image);\n              overviewMapRef.current.addImage('walk-dot-purple', image);\n            });\n            mapRef.current.loadImage(walkDotRedImgURL, (error, image) => {\n              if (error) return;\n              mapRef.current.addImage('walk-dot-red', image);\n              overviewMapRef.current.addImage('walk-dot-red', image);\n            });\n          }}\n          onMoveStart={(e) => {\n            if (e.geolocateSource) return;\n            if (overviewMapDivRef.current.hidden) return;\n            overviewMapDivRef.current.classList.add('faded');\n          }}\n          onMoveEnd={(e) => {\n            if (e.geolocateSource) return;\n            if (overviewMapDivRef.current.hidden) return;\n            overviewMapDivRef.current.classList.remove('faded');\n          }}\n          onIdle={(e) => {\n            if (overviewMapDivRef.current.hidden) return;\n            overviewMapDivRef.current.classList.remove('faded');\n            LS.set('view-state', e.viewState);\n          }}\n          onMove={(e) => {\n            const { viewState } = e;\n            const lowZoomLevel = viewState.zoom < 16;\n            overviewMapDivRef.current.hidden = lowZoomLevel;\n            if (!lowZoomLevel) {\n              overviewMapRef.current?.jumpTo({\n                ...viewState,\n                center: [viewState.longitude, viewState.latitude],\n                zoom: viewState.zoom - OVERVIEW_ZOOM_BACK,\n              });\n            }\n          }}\n          onClick={(e) => {\n            console.log('map click', e);\n            if (e.originalEvent.detail > 1) return;\n            clickFired.current = true;\n            mapHandleClickDebounced(e);\n          }}\n          onDblClick={(e) => {\n            if (clickFired.current) {\n              clickFired.current = false;\n            }\n          }}\n          onZoomStart={(e) => {\n            if (clickFired.current) {\n              clickFired.current = false;\n            }\n          }}\n          onZoomEnd={(e) => {\n            const { zoom } = e.viewState;\n            console.log('zoom', zoom);\n          }}\n          onDragStart={(e) => {\n            if (clickFired.current) {\n              clickFired.current = false;\n            }\n          }}\n        >\n          <AttributionControl position=\"top-right\" compact />\n          <GeocoderControl\n            accessToken={MAPBOX_ACCESS_TOKEN}\n            marker={false}\n            clearAndBlurOnSelect={true}\n            collapsed={true}\n            position=\"top-left\"\n          />\n          <NavigationControl visualizePitch={true} position=\"top-right\" />\n          <GeolocateControl\n            ref={geolocateControlRef}\n            fitBoundsOptions={{\n              zoom: 17,\n            }}\n            positionOptions={{\n              enableHighAccuracy: true,\n              timeout: 5000,\n            }}\n            trackUserLocation\n            showUserHeading\n            position=\"top-right\"\n            onGeolocate={(e) => {\n              console.log({ onGeolocate: e });\n              const { coords } = e;\n              setGeolocationGeoJSON({\n                type: 'FeatureCollection',\n                features: [\n                  {\n                    type: 'Feature',\n                    geometry: {\n                      type: 'Point',\n                      coordinates: [coords.longitude, coords.latitude],\n                    },\n                  },\n                ],\n              });\n\n              if (\n                window.DeviceOrientationEvent &&\n                !orientationGranted.current\n              ) {\n                if (\n                  typeof DeviceOrientationEvent.requestPermission === 'function'\n                ) {\n                  DeviceOrientationEvent.requestPermission()\n                    .then(function (permissionState) {\n                      if (permissionState === 'granted') {\n                        console.log('granted');\n                        orientationGranted.current = true;\n                      }\n                    })\n                    .catch((e) => {});\n                }\n              }\n            }}\n            onError={(e) => {\n              alert(`${e.code}: ${e.message}`);\n            }}\n          />\n          <Source\n            id=\"walk-route\"\n            type=\"geojson\"\n            data={walkRouteGeoJSON || emptyGeoJSON}\n          >\n            {/* <Layer id=\"walk-route\" type=\"line\" {...mapStyles.walkRoute} /> */}\n            <Layer\n              id=\"walk-route\"\n              type=\"symbol\"\n              {...mapStyles.walkRoute2}\n              beforeId={mapTextLayerID}\n            />\n          </Source>\n          <Marker\n            anchor=\"bottom\"\n            draggable={!markerPinned}\n            longitude={destinationMarker?.lng || 0}\n            latitude={destinationMarker?.lat || 0}\n            onDragEnd={(e) => {\n              const { lngLat } = e;\n              setDestinationMarker(lngLat);\n            }}\n            onClick={(e) => {\n              e.originalEvent.stopPropagation();\n              setMarkerSheetOpen(true);\n            }}\n          >\n            <img src={pinImgURL} width=\"18\" hidden={!destinationMarker} />\n          </Marker>\n        </Map>\n      </div>\n      <div id=\"overview-map\" ref={overviewMapDivRef} hidden>\n        <Map\n          ref={overviewMapRef}\n          mapboxAccessToken={MAPBOX_ACCESS_TOKEN}\n          mapStyle=\"mapbox://styles/cheeaun/cl0ds1jbz003014px6nthvdle/draft\"\n          initialViewState={{\n            center: [103.8198, 1.3521],\n            zoom: 11,\n          }}\n          attributionControl={false}\n          interactive={false}\n          maxZoom={16}\n          minZoom={14.5}\n        >\n          <Source\n            id=\"walk-route\"\n            type=\"geojson\"\n            data={walkRouteGeoJSON || emptyGeoJSON}\n          >\n            {/* <Layer id=\"walk-route\" type=\"line\" {...mapStyles.walkRoute} /> */}\n            <Layer\n              id=\"walk-route\"\n              type=\"symbol\"\n              {...mapStyles.walkRoute2}\n              beforeId={mapTextLayerID}\n            />\n          </Source>\n          <Source id=\"geolocation\" type=\"geojson\" data={geolocationGeoJSON}>\n            <Layer\n              id=\"geolocation-outer\"\n              type=\"circle\"\n              paint={{\n                'circle-radius': 12,\n                'circle-color': '#1ea1f1',\n                'circle-opacity': 0.3,\n              }}\n              beforeId={mapTextLayerID}\n            />\n            <Layer\n              id=\"geolocation-inner\"\n              type=\"circle\"\n              paint={{\n                'circle-radius': 3,\n                'circle-color': '#1ea1f1',\n                'circle-stroke-width': 2,\n                'circle-stroke-color': '#fff',\n              }}\n            />\n          </Source>\n          <Marker\n            anchor=\"bottom\"\n            longitude={destinationMarker?.lng || 0}\n            latitude={destinationMarker?.lat || 0}\n          >\n            <img src={pinImgURL} width=\"10\" hidden={!destinationMarker} />\n          </Marker>\n        </Map>\n      </div>\n      <div id=\"actions\">\n        {loading && <div class=\"loading\" />}\n        <button\n          type=\"button\"\n          onClick={() => {\n            setAboutSheetOpen(true);\n          }}\n          title=\"About\"\n        >\n          <svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\n            <path d=\"m11 7h2v2h-2zm0 4h2v6h-2zm1-9c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />\n          </svg>\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => {\n            setLegendSheetOpen(true);\n          }}\n          title=\"Legend\"\n        >\n          <svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\n            <path d=\"m11 7h6v2h-6zm0 4h6v2h-6zm0 4h6v2h-6zm-4-8h2v2h-2zm0 4h2v2h-2zm0 4h2v2h-2zm13.1-12h-16.2c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9v-16.2c0-.5-.5-.9-.9-.9zm-1.1 16h-14v-14h14z\" />\n          </svg>\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => {\n            setMarkerSheetOpen(true);\n          }}\n          title=\"Actions\"\n          disabled={loading}\n        >\n          <svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\n            <path d=\"m3 3v8h8v-8zm6 6h-4v-4h4zm-6 4v8h8v-8zm6 6h-4v-4h4zm4-16v8h8v-8zm6 6h-4v-4h4zm-6 4v8h8v-8zm6 6h-4v-4h4z\" />\n          </svg>\n        </button>\n      </div>\n      <BottomSheet\n        open={aboutSheetOpen}\n        onDismiss={() => {\n          setAboutSheetOpen(false);\n          LS.set('not-first-time', true);\n        }}\n      >\n        <div class=\"bottom-sheet-container\">\n          <img\n            alt=\"\"\n            src={iconImgURL}\n            width=\"96\"\n            height=\"96\"\n            style={{\n              borderRadius: 24,\n              boxShadow: '0 1px 2px #ccc',\n              float: 'right',\n              marginLeft: 10,\n            }}\n          />\n          <h1>MapWalker</h1>\n          <p>\n            MapWalker is a very opinionated map-based walking route planner.\n          </p>\n          <p>\n            The map tiles and styles escalate <b>all</b> walking paths and roads\n            to the surface. They are color-coded based on their types, such as\n            stairs, bridges, tunnels, etc.\n          </p>\n          <p>\n            Once a marker is placed, walk routes can be generated from current\n            location to the marker. Up to 3 walk routes will be generated from\n            different routing engines, overlayed on the map simultaneuously for\n            comparison as each has its own pros and cons.\n          </p>\n          <p>\n            <a href=\"https://github.com/cheeaun/mapwalker\" target=\"_blank\">\n              Built\n            </a>{' '}\n            by{' '}\n            <a href=\"https://twitter.com/cheeaun\" target=\"_blank\">\n              @cheeaun\n            </a>\n            .\n          </p>\n          <button\n            type=\"button\"\n            class=\"block\"\n            onClick={() => {\n              setAboutSheetOpen(false);\n              LS.set('not-first-time', true);\n            }}\n          >\n            🚶 Start walking now!\n          </button>\n        </div>\n      </BottomSheet>\n      <BottomSheet\n        open={legendSheetOpen}\n        onDismiss={() => {\n          setLegendSheetOpen(false);\n        }}\n      >\n        <div class=\"bottom-sheet-container legend-sheet-container\">\n          <h2>Map Legend</h2>\n          <dl>\n            <dt>\n              <span class=\"path\" />\n            </dt>\n            <dd>Foot paths, cycling paths</dd>\n            <dt>\n              <span class=\"bridge\" />\n            </dt>\n            <dd>Bridges</dd>\n            <dt>\n              <span class=\"stairs\" />\n            </dt>\n            <dd>Stairs</dd>\n            <dt>\n              <span class=\"tunnel\" />\n            </dt>\n            <dd>Tunnels, underground paths, under bridge</dd>\n            <dt>\n              <img src={walkDotBlueImgURL} width=\"10\" height=\"10\" />\n            </dt>\n            <dd>\n              Route from OpenStreetMap\n              {distances['osm-de'] &&\n                ` - ${routeInfoText(distances['osm-de'])}`}\n            </dd>\n            <dt>\n              <img src={walkDotPurpleImgURL} width=\"10\" height=\"10\" />\n            </dt>\n            <dd>\n              Route from OpenRouteService\n              {distances.ors && ` - ${routeInfoText(distances.ors)}`}\n            </dd>\n            <dt>\n              <img src={walkDotRedImgURL} width=\"10\" height=\"10\" />\n            </dt>\n            <dd>\n              Route from GraphHopper\n              {distances.graphhopper &&\n                ` - ${routeInfoText(distances.graphhopper)}`}\n            </dd>\n          </dl>\n        </div>\n      </BottomSheet>\n      <BottomSheet\n        open={markerSheetOpen}\n        onDismiss={() => {\n          setMarkerSheetOpen(false);\n        }}\n      >\n        <div class=\"bottom-sheet-container marker-sheet-container\">\n          {!!destinationMarker ? (\n            <>\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setDestinationMarker(null);\n                  backupDestinationMarker.current = destinationMarker;\n                  setMarkerPinned(false);\n                }}\n              >\n                <span>❌</span> Remove marker\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setMarkerPinned(!markerPinned);\n                  setMarkerSheetOpen(false);\n                }}\n                class={markerPinned ? '' : 'faded'}\n              >\n                <span>📌</span> {markerPinned ? 'Unpin marker' : 'Pin marker'}\n              </button>\n              {!!walkRouteGeoJSON && (\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    const bounds = new mapboxgl.LngLatBounds();\n                    walkRouteGeoJSON.features.forEach((feature) => {\n                      feature.geometry.coordinates.forEach((coord) => {\n                        bounds.extend(coord);\n                      });\n                    });\n                    mapRef.current?.fitBounds(bounds, {\n                      padding: 100,\n                    });\n                    setMarkerSheetOpen(false);\n                  }}\n                >\n                  <span>🔭</span> Zoom whole route\n                </button>\n              )}\n              <button\n                type=\"button\"\n                onClick={() => {\n                  mapRef.current?.flyTo({\n                    center: destinationMarker,\n                  });\n                  setMarkerSheetOpen(false);\n                }}\n              >\n                <span>🔍</span> Fly to marker\n              </button>\n              <button\n                type=\"button\"\n                onClick={async () => {\n                  setLoading(true);\n                  setMarkerSheetOpen(false);\n                  console.log({\n                    geolocationGeoJSON,\n                    destinationMarker,\n                  });\n                  if (!geolocationGeoJSON) {\n                    alert('Please allow location access to generate routes');\n                    return;\n                  }\n                  const results = await fetchRoutes(\n                    geolocationGeoJSON.features[0].geometry.coordinates,\n                    [destinationMarker.lng, destinationMarker.lat],\n                  );\n                  setWalkRouteGeoJSON(results);\n                  setLoading(false);\n                  setMarkerPinned(true);\n                }}\n              >\n                <span>🔃</span> Generate walk routes to marker\n              </button>\n            </>\n          ) : (\n            <>\n              {!destinationMarker && (\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    const center = mapRef.current?.getCenter();\n                    setDestinationMarker({\n                      lat: center.lat,\n                      lng: center.lng,\n                    });\n                    setMarkerSheetOpen(false);\n                  }}\n                >\n                  <span>📌</span> Place marker on map\n                </button>\n              )}\n              {!destinationMarker && backupDestinationMarker.current && (\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setDestinationMarker(backupDestinationMarker.current);\n                  }}\n                >\n                  <span>♻️</span> Restore marker\n                </button>\n              )}\n              {!!walkRouteGeoJSON ? (\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    backupWalkRouteGeoJSON.current = walkRouteGeoJSON;\n                    setWalkRouteGeoJSON(null);\n                  }}\n                >\n                  🗑️ Clear route\n                </button>\n              ) : (\n                backupWalkRouteGeoJSON.current && (\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setWalkRouteGeoJSON(backupWalkRouteGeoJSON.current);\n                    }}\n                  >\n                    <span>♻️</span> Restore route\n                  </button>\n                )\n              )}\n            </>\n          )}\n        </div>\n      </BottomSheet>\n    </>\n  );\n}\n","import { render } from 'preact';\nimport { App } from './app';\n\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport '@mapbox/mapbox-gl-geocoder/lib/mapbox-gl-geocoder.css';\nimport 'react-spring-bottom-sheet/dist/style.css';\nimport './index.css';\n\nrender(<App />, document.getElementById('app'));\n"],"names":["VITE_ORS_API_KEY","ORS_API_KEY","VITE_GRAPHHOPPER_API_KEY","GRAPHHOPPER_API_KEY","import","APIS","OSM_DE","origin","destination","join","ORS","GHOP","fetchRoutes","params","fetch1","fetch","URLSearchParams","geometries","overview","continue_straight","then","r","json","catch","e","fetch2","method","headers","Authorization","body","JSON","stringify","coordinates","instructions","fetch3Params","vehicle","key","points_encoded","point","reverse","append","fetch3","response1","response2","response3","Promise","all","console","log","type","features","geometry","routes","properties","index","provider","distance","summary","paths","points","LS_PREFIX","get","parse","localStorage","getItem","set","value","setItem","removeItem","del","jsxRuntime.jsx","jsxRuntime.jsxs","jsxRuntime.Fragment","VITE_MAPBOX_ACCESS_TOKEN","MAPBOX_ACCESS_TOKEN","DEV","OVERVIEW_ZOOM_BACK","props","useControl","MapboxGeocoder","position","emptyGeoJSON","mapStyles","walkRoute","layout","paint","walkRoute2","timeDurationSecs","prettyMetric","humanize","humanizeDuration","units","round","mapRef","useRef","overviewMapDivRef","overviewMapRef","loading","setLoading","useState","geolocateControlRef","geolocationGeoJSON","setGeolocationGeoJSON","walkRouteGeoJSON","setWalkRouteGeoJSON","LS","useEffect","destinationMarker","setDestinationMarker","markerPinned","setMarkerPinned","clickFired","mapHandleClickDebounced","AwesomeDebouncePromise","current","lngLat","orientationGranted","mapTextLayerID","setMapTextLayerID","legendSheetOpen","setLegendSheetOpen","markerSheetOpen","setMarkerSheetOpen","aboutSheetOpen","setAboutSheetOpen","backupDestinationMarker","backupWalkRouteGeoJSON","distances","useMemo","info","forEach","feature","_jsxs","_Fragment","_jsx","center","trigger","layers","getStyle","find","layer","id","loadImage","walkDotBlueImgURL","error","image","addImage","walkDotPurpleImgURL","walkDotRedImgURL","geolocateSource","hidden","classList","add","remove","viewState","lowZoomLevel","zoom","jumpTo","longitude","latitude","originalEvent","detail","enableHighAccuracy","timeout","onGeolocate","coords","window","DeviceOrientationEvent","requestPermission","permissionState","alert","code","message","lng","lat","stopPropagation","pinImgURL","BottomSheet","iconImgURL","borderRadius","boxShadow","float","marginLeft","routeInfoText","ors","graphhopper","bounds","mapboxgl","LngLatBounds","coord","extend","fitBounds","padding","flyTo","results","getCenter","render","document","getElementById"],"mappings":"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"}