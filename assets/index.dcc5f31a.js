var Le=Object.defineProperty,Ve=Object.defineProperties;var je=Object.getOwnPropertyDescriptors;var pe=Object.getOwnPropertySymbols;var Ge=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable;var fe=(i,n,c)=>n in i?Le(i,n,{enumerable:!0,configurable:!0,writable:!0,value:c}):i[n]=c,G=(i,n)=>{for(var c in n||(n={}))Ge.call(n,c)&&fe(i,c,n[c]);if(pe)for(var c of pe(n))Te.call(n,c)&&fe(i,c,n[c]);return i},J=(i,n)=>Ve(i,je(n));import{j as Ke,a as Ye,F as Ue,s as b,l as E,y as T,A as Je,d as ve,h as Xe,b as qe,M as ke,c as We,S as be,L as we,e as ee,f as Qe,G as Ze,N as Ne,J as te,p as Be,g as _e,m as $e,i as et,k as tt}from"./vendor.5a09ab59.js";const nt=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))u(l);new MutationObserver(l=>{for(const A of l)if(A.type==="childList")for(const g of A.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&u(g)}).observe(document,{childList:!0,subtree:!0});function c(l){const A={};return l.integrity&&(A.integrity=l.integrity),l.referrerpolicy&&(A.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?A.credentials="include":l.crossorigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function u(l){if(l.ep)return;l.ep=!0;const A=c(l);fetch(l.href,A)}};nt();const rt="modulepreload",Ee={},ot="./",it=function(n,c){return!c||c.length===0?n():Promise.all(c.map(u=>{if(u=`${ot}${u}`,u in Ee)return;Ee[u]=!0;const l=u.endsWith(".css"),A=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${A}`))return;const g=document.createElement("link");if(g.rel=l?"stylesheet":rt,l||(g.as="script",g.crossOrigin=""),g.href=u,document.head.appendChild(g),l)return new Promise((s,v)=>{g.addEventListener("load",s),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})})).then(()=>n())},{VITE_ORS_API_KEY:at,VITE_GRAPHHOPPER_API_KEY:ct}={VITE_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoiY2hlZWF1biIsImEiOiJjbDBkdXJud3gwY21qM2Rtenk1ZTM4dzNqIn0.lIVOhBl1NrdplE6DrbEngw",VITE_ORS_API_KEY:"5b3ce3597851110001cf624888ac0dd0f3434a208374935e71ad9bcd",VITE_GRAPHHOPPER_API_KEY:"LijBPDQGfu7Iiq80w3HzwB4RUDJbMbhs6BU0dEnn",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0},ne={OSM_DE:(i,n)=>`https://routing.openstreetmap.de/routed-foot/route/v1/driving/${i.join(",")};${n.join(",")}`,ORS:()=>"https://api.openrouteservice.org/v2/directions/foot-hiking/geojson",GHOP:()=>"https://graphhopper.com/api/1/route"},st=async(i,n,c)=>{var o,y,C,D,w,q,U,x;const u=fetch(ne.OSM_DE(i,n)+"?"+new URLSearchParams(G({geometries:"geojson",overview:"full",continue_straight:!1},c))).then(S=>S.json()).catch(S=>{}),l=fetch(ne.ORS(),{method:"POST",headers:{"Content-Type":"application/json",Authorization:at},body:JSON.stringify({coordinates:[i,n],instructions:!1})}).then(S=>S.json()).catch(S=>{}),A=new URLSearchParams({vehicle:"foot",key:ct,instructions:!0,points_encoded:!1,point:[...i].reverse().join(",")});A.append("point",[...n].reverse().join(","));const g=fetch(ne.GHOP()+"?"+A).then(S=>S.json()).catch(S=>{}),[s,v,h]=await Promise.all([u,l,g]);return console.log({response1:s,response2:v,response3:h}),{type:"FeatureCollection",features:[{type:"Feature",geometry:(o=s==null?void 0:s.routes[0])==null?void 0:o.geometry,properties:{index:0,provider:"osm-de",distance:(y=s==null?void 0:s.routes[0])==null?void 0:y.distance}},{type:"Feature",geometry:(C=v==null?void 0:v.features[0])==null?void 0:C.geometry,properties:{index:1,provider:"ors",distance:(q=(w=(D=v==null?void 0:v.features[0])==null?void 0:D.properties)==null?void 0:w.summary)==null?void 0:q.distance}},{type:"Feature",geometry:(U=h==null?void 0:h.paths[0])==null?void 0:U.points,properties:{index:2,provider:"graphhopper",distance:(x=h==null?void 0:h.paths[0])==null?void 0:x.distance}}]}},X="mapwalker-";var P={get:i=>{try{return JSON.parse(localStorage.getItem(X+i))}catch{return null}},set:(i,n)=>{try{n?localStorage.setItem(X+i,JSON.stringify(n)):localStorage.removeItem(X+i)}catch{}},del:i=>{try{localStorage.removeItem(X+i)}catch{}}},Pe="data:image/png;base64,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",Ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAS1BMVEVHcEz////////////////////////////////r9fx0wOw9puUOkN8xn+OTzfDY7fklmuI4pOQZld+UzfB0vuz///83pOT///91vuyKtLkHAAAAGXRSTlMAMGunv5t3GAzD3+//89fH9/H7199s8XjfKy/6XAAAAIpJREFUeAFlj4WBgDAMAEM5oJLitv+kX3u/ajyRTGd6GMZJKtbQMLbIA84H1TjDkDWGZdXCumBEJkjyum17uh2djByqwSdS2MklA1F3X1g10AuoblVxq8J/RU/QtSp2jQxycX4nPXikw62q+7bl4pDav342dtXWOWIKex1DHeaicVmpTM8A/dVJ4gNfKwijr/kcwwAAAABJRU5ErkJggg==",Se="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAV1BMVEVHcEz////////////////////////////////////////46vj46vfz1fDz1e/djtXdjdXTbcnTbMnCM7TCM7PALLC/LLC9Ja+9Ja66GKq6GKm2DKWzAKGsmQwTAAAAHHRSTlMADBgwa2x3eJunv8PDx8fX19/f7+/x8fPz9/f7XCOcjAAAAJJJREFUeAEFwQFu3DAMADBKsu+uQLH/P7TY0jiWRwZUzND9NIKoF+DeR4h3xiu/rGvp3zNU1ndhzv2jnsq3P6XXzsh5V9fM+XHd3atH9j6ZPs6GvZWRabqBx0ckAEAelwG8PDofWyVkuJzRVufXuY3St1VHPjNijNQ/vXY5da4d5d/6u3sJYkzAeo6AnJHO0xv/AX/8TAjqcSv9AAAAAElFTkSuQmCC",ye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAV1BMVEVHcEzuSnH////72+L////////////zfpn////sM17rKFbuRWv////////////1m7DuPmfuS3HuRGv87PD97PDzfpruRGzzfZn////////1m6/tPmfrHk4InpgzAAAAHHRSTlMA72vHDJts37/3+/EYMKfX8+/xw8Pf8d93eNfz3D4s5QAAAI9JREFUeF5ljssWgjAUA28LLekTEBDQ/P93yqUuPMfZzWwSUYqtgDuyNHqLL7a/3WHZDTmNgNNi0QXehA5WJAOXh5QiGVYUOfAi5+FiJnd4cZgYh5tAgyoA+WjhSQL/ocIwtBD5hhOPjTTqhhxxSsEayJiSjgNZxP8e8+06xok026LXtXh88epKPh1QfVH5APz1C0cNUS3tAAAAAElFTkSuQmCC",lt="data:image/png;base64,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";const e=Ke,a=Ye,K=Ue,{VITE_MAPBOX_ACCESS_TOKEN:re,DEV:dt}={VITE_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoiY2hlZWF1biIsImEiOiJjbDBkdXJud3gwY21qM2Rtenk1ZTM4dzNqIn0.lIVOhBl1NrdplE6DrbEngw",VITE_ORS_API_KEY:"5b3ce3597851110001cf624888ac0dd0f3434a208374935e71ad9bcd",VITE_GRAPHHOPPER_API_KEY:"LijBPDQGfu7Iiq80w3HzwB4RUDJbMbhs6BU0dEnn",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0},ut=2,f=10,ze=`mapbox://styles/cheeaun/cl0ds1jbz003014px6nthvdle${dt?"/draft":""}`,oe={type:"FeatureCollection",features:[]},De={walkRoute:{layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":["case",["==",["get","provider"],"ors"],"#95378C",["==",["get","provider"],"graphhopper"],"#EB1E4E","#0E90DF"],"line-opacity":["interpolate",["linear"],["zoom"],15,1,18,.5],"line-width":["interpolate",["linear"],["zoom"],15,4,18,14],"line-dasharray":[0,2]}},walkRoute2:{layout:{"symbol-placement":"line","symbol-spacing":["interpolate",["linear"],["zoom"],10,1,15,16,19,32],"icon-allow-overlap":!0,"icon-padding":0,"icon-size":["interpolate",["linear"],["zoom"],15,.4,18,.75],"icon-image":["case",["==",["get","provider"],"ors"],"walk-dot-purple",["==",["get","provider"],"graphhopper"],"walk-dot-red","walk-dot-blue"]}}};function ie(i){const n=i/1.33*1e3;return`${Be(i).humanize()} (${_e(n,{units:["h","m"],round:!0})})`}let Oe=!1;function Re(i=()=>{}){window.DeviceOrientationEvent&&!Oe&&typeof DeviceOrientationEvent.requestPermission=="function"&&DeviceOrientationEvent.requestPermission().then(function(n){n==="granted"&&(console.log("granted"),Oe=!0,i())}).catch(n=>{})}const ht=et(()=>it(()=>import("./geocoder-control.3c113a55.js"),["assets/geocoder-control.3c113a55.js","assets/vendor.5a09ab59.js"]));function At(){var he,Ae,ge,me;const i=b(),n=b(),c=b(),u=b(),[l,A]=E(!1),g=b(),[s,v]=E(oe),[h,Y]=E(P.get("walk-route")||null);T(()=>{P.set("walk-route",h)},[h]);const[o,y]=E(P.get("destination-marker")||null);T(()=>{P.set("destination-marker",o)},[o]);const[C,D]=E(P.get("marker-pinned")||!1);T(()=>{P.set("marker-pinned",C)},[C]);const w=b(!1),U=Je(t=>{if(w.current&&!C){const{lngLat:r}=t;y(r)}},350),[x,S]=E(null),[W,ae]=E(!1),[Q,z]=E(!1),[Z,N]=E(!P.get("not-first-time")),_=b(o),$=b(h),O=ve(()=>{var r;const t={};return(r=h==null?void 0:h.features)==null||r.forEach(m=>{const{provider:k,distance:d}=m.properties;t[k]=d}),t},[h]),[ce,se]=E(!1);T(()=>{Z||Q||W?se(!0):ce&&setTimeout(()=>{se(!1)},300)},[W,Q,Z]);const[R,Ie]=E(!1);T(()=>{var t,r,m;(t=n.current)==null||t.resize(),(r=u.current)==null||r.resize(),s&&((m=g.current)==null||m.trigger())},[R]);const le=b(),de=b(),Me=ve(()=>{var d;if(!o||!((d=s==null?void 0:s.features)!=null&&d.length))return 0;const{lng:t,lat:r}=o,[m,k]=s.features[0].geometry.coordinates;return Xe({longitude:m,latitude:k},{longitude:t,latitude:r})},[o,s]),ue=qe(()=>{s&&Re(()=>{var t;(t=g.current)==null||t.trigger(),setTimeout(()=>{var r;(r=g.current)==null||r.trigger()},1)})},[s]),F=b(),H=b();return a("div",{class:`${R?"split-view":""}`,children:[e("div",{id:"map",ref:i,children:a(ke,{ref:n,mapboxAccessToken:re,mapStyle:ze,initialViewState:P.get("view-state")||{center:[103.8198,1.3521]},boxZoom:!1,renderWorldCopies:!1,maxZoom:21,attributionControl:!1,logoPosition:"top-right",keyboard:!1,onLoad:t=>{var m,k;(m=g.current)==null||m.trigger();const{layers:r}=n.current.getStyle();S((k=r.find(d=>{var p;return d.type==="symbol"&&((p=d==null?void 0:d.layout)==null?void 0:p["text-field"])}))==null?void 0:k.id),n.current.loadImage(Ce,(d,p)=>{d||(n.current.addImage("walk-dot-blue",p),u.current.addImage("walk-dot-blue",p))}),n.current.loadImage(Se,(d,p)=>{d||(n.current.addImage("walk-dot-purple",p),u.current.addImage("walk-dot-purple",p))}),n.current.loadImage(ye,(d,p)=>{d||(n.current.addImage("walk-dot-red",p),u.current.addImage("walk-dot-red",p))})},onMoveStart:t=>{t.geolocateSource||c.current.hidden||c.current.classList.add("faded")},onMoveEnd:t=>{t.geolocateSource||c.current.hidden||c.current.classList.remove("faded")},onIdle:t=>{c.current.hidden||(c.current.classList.remove("faded"),P.set("view-state",t.viewState))},onMove:t=>{var k;const{viewState:r}=t,m=r.zoom<16;if(c.current.hidden=m,!m&&!R&&((k=u.current)==null||k.jumpTo(J(G({},r),{center:[r.longitude,r.latitude],zoom:r.zoom-ut}))),o&&F.current){const{width:d,height:p}=i.current.getBoundingClientRect(),{lng:B,lat:I}=o,{x:L,y:V}=n.current.project([B,I]),j=Math.max(Math.min(L,d-f),f),M=Math.max(Math.min(V,p-f),f),xe=d/2,Fe=p/2,He=Math.atan2(M-Fe,j-xe)*180/Math.PI;j<L+f&&j>L-f&&M<V+f&&M>V-f?F.current.hidden=!0:(F.current.hidden=!1,F.current.style.transform=`translate(${j}px, ${M}px) rotate(${He+90}deg)`)}},onClick:t=>{console.log("map click",t),!(t.originalEvent.detail>1)&&(w.current=!0,U(t),ue())},onDblClick:t=>{w.current&&(w.current=!1)},onZoomStart:t=>{w.current&&(w.current=!1)},onZoomEnd:t=>{const{zoom:r}=t.viewState;console.log("zoom",r)},onDragStart:t=>{w.current&&(w.current=!1)},children:[e(We,{position:"top-right",compact:!0}),e(be,{id:"walk-route",type:"geojson",data:h||oe,children:e(we,J(G({id:"walk-route",type:"symbol"},De.walkRoute2),{beforeId:x}))}),e(ee,{anchor:"bottom",draggable:!C,longitude:(o==null?void 0:o.lng)||0,latitude:(o==null?void 0:o.lat)||0,onDragEnd:t=>{const{lngLat:r}=t;y(r)},onClick:t=>{t.originalEvent.stopPropagation(),z(!0)},children:e("img",{src:Pe,width:"18",hidden:!o})}),e(Qe,{children:e(ht,{accessToken:re,marker:!1,clearAndBlurOnSelect:!0,collapsed:!0,position:"top-left"})}),e(Ze,{ref:g,fitBoundsOptions:{zoom:17},positionOptions:{enableHighAccuracy:!0,timeout:5e3},trackUserLocation:!0,showUserHeading:!0,position:"bottom-right",onGeolocate:t=>{console.log({onGeolocate:t});const{coords:r}=t;r!=null&&r.longitude?(v({type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[r.longitude,r.latitude]}}]}),Re()):v(null)},onError:t=>{const{code:r,message:m}=t;r!==3&&alert(`${r}: ${m}`),v(null)}}),e(Ne,{showZoom:!1,visualizePitch:!0,position:"bottom-right"}),e("div",{class:"marker-pointer",ref:F}),a("div",{id:"actions",children:[l&&e("div",{class:"loading"}),e("button",{type:"button",onClick:()=>{N(!0)},title:"About",children:e("svg",{height:"24",viewBox:"0 0 24 24",width:"24",children:e("path",{fill:"currentColor",d:"m11 7h2v2h-2zm0 4h2v6h-2zm1-9c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})})}),e("button",{type:"button",onClick:()=>{ae(!0)},title:"Legend",children:e("svg",{height:"24",viewBox:"0 0 24 24",width:"24",children:e("path",{fill:"currentColor",d:"m11 7h6v2h-6zm0 4h6v2h-6zm0 4h6v2h-6zm-4-8h2v2h-2zm0 4h2v2h-2zm0 4h2v2h-2zm13.1-12h-16.2c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9v-16.2c0-.5-.5-.9-.9-.9zm-1.1 16h-14v-14h14z"})})}),e("button",{type:"button",class:"bold",onClick:()=>{z(!0)},title:"Actions",disabled:l,children:e("svg",{height:"24",viewBox:"0 0 24 24",width:"24",children:e("path",{fill:"currentColor",d:"m3 3v8h8v-8zm6 6h-4v-4h4zm-6 4v8h8v-8zm6 6h-4v-4h4zm4-16v8h8v-8zm6 6h-4v-4h4zm-6 4v8h8v-8zm6 6h-4v-4h4z"})})})]})]})}),a("div",{id:"overview-map",ref:c,hidden:!0,children:[a(ke,{ref:u,mapboxAccessToken:re,mapStyle:ze,initialViewState:{center:[103.8198,1.3521],zoom:11},attributionControl:!1,interactive:!R,maxZoom:16,keyboard:!1,onClick:()=>{ue()},onMove:()=>{if(o&&H.current){const{width:t,height:r}=c.current.getBoundingClientRect(),{lng:m,lat:k}=o,{x:d,y:p}=u.current.project([m,k]),B=Math.max(Math.min(d,t-f),f),I=Math.max(Math.min(p,r-f),f),L=t/2,V=r/2,M=Math.atan2(I-V,B-L)*180/Math.PI;B<d+f&&B>d-f&&I<p+f&&I>p-f?H.current.hidden=!0:(H.current.hidden=!1,H.current.style.transform=`translate(${B}px, ${I}px) rotate(${M+90}deg)`)}},children:[e(be,{id:"walk-route",type:"geojson",data:h||oe,children:e(we,J(G({id:"walk-route",type:"symbol"},De.walkRoute2),{beforeId:x}))}),e(ee,{anchor:"center",longitude:((Ae=(he=s==null?void 0:s.features[0])==null?void 0:he.geometry)==null?void 0:Ae.coordinates[0])||0,latitude:((me=(ge=s==null?void 0:s.features[0])==null?void 0:ge.geometry)==null?void 0:me.coordinates[1])||0,children:e("div",{id:"geolocation-marker",hidden:!s})}),e(ee,{anchor:"bottom",longitude:(o==null?void 0:o.lng)||0,latitude:(o==null?void 0:o.lat)||0,children:e("img",{src:Pe,width:"12",hidden:!o})}),e("div",{class:"marker-pointer mini",ref:H})]}),e("button",{type:"button",onClick:()=>{Ie(!R)},children:R?e("svg",{height:"24",viewBox:"0 0 24 24",width:"24",children:e("path",{fill:"currentColor",d:"m5 16h3v3h2v-5h-5zm3-8h-3v2h5v-5h-2zm6 11h2v-3h3v-2h-5zm2-11v-3h-2v5h5v-2z"})}):e("svg",{height:"24",viewBox:"0 0 24 24",width:"24",children:e("path",{fill:"currentColor",d:"m7 14h-2v5h5v-2h-3zm-2-4h2v-3h3v-2h-5zm12 7h-3v2h5v-5h-2zm-3-12v2h3v3h2v-5z"})})})]}),a("div",{class:"bd",onClick:t=>t.stopPropagation(),hidden:!ce,children:[e(te,{open:Z,onDismiss:()=>{N(!1),P.set("not-first-time",!0)},initialFocusRef:le,children:a("div",{class:"bottom-sheet-container",children:[e("img",{alt:"",src:lt,width:"96",height:"96",style:{borderRadius:24,boxShadow:"0 1px 2px #ccc",float:"right",marginLeft:10}}),e("h1",{children:"MapWalker"}),e("p",{children:"MapWalker is a very opinionated map-based walking route planner."}),a("p",{children:["The map tiles and styles escalate ",e("b",{children:"all"})," walking paths and roads to the surface. They are color-coded based on their types, such as stairs, bridges, tunnels, etc."]}),e("p",{children:"Once a marker is placed, walk routes can be generated from current location to the marker. Up to 3 walk routes will be generated from different routing engines, overlayed on the map simultaneuously for comparison as each has its own pros and cons."}),a("p",{children:[e("a",{href:"https://github.com/cheeaun/mapwalker",target:"_blank",children:"Built"})," ","by"," ",e("a",{href:"https://twitter.com/cheeaun",target:"_blank",children:"@cheeaun"}),"."]}),a("button",{type:"button",class:"block bold",ref:le,onClick:()=>{N(!1),P.set("not-first-time",!0)},children:[e("span",{children:"\u{1F6B6}"})," Start walking now!"]})]})}),e(te,{open:W,onDismiss:()=>{ae(!1)},children:a("div",{class:"bottom-sheet-container legend-sheet-container",children:[e("h2",{children:"Map Legend"}),a("dl",{children:[e("dt",{children:e("span",{class:"path"})}),e("dd",{children:"Foot paths, cycling paths"}),e("dt",{children:e("span",{class:"bridge"})}),e("dd",{children:"Bridges"}),e("dt",{children:e("span",{class:"stairs"})}),e("dd",{children:"Stairs"}),e("dt",{children:e("span",{class:"tunnel"})}),e("dd",{children:"Tunnels, underground paths, under bridge"}),e("dt",{children:e("img",{src:Ce,width:"10",height:"10"})}),a("dd",{children:["Route from OpenStreetMap",O["osm-de"]&&a(K,{children:[e("br",{}),e("span",{class:"insignificant",children:ie(O["osm-de"])})]})]}),e("dt",{children:e("img",{src:Se,width:"10",height:"10"})}),a("dd",{children:["Route from OpenRouteService",O.ors&&a(K,{children:[e("br",{}),e("span",{class:"insignificant",children:ie(O.ors)})]})]}),e("dt",{children:e("img",{src:ye,width:"10",height:"10"})}),a("dd",{children:["Route from GraphHopper",O.graphhopper&&a(K,{children:[e("br",{}),e("span",{class:"insignificant",children:ie(O.graphhopper)})]})]})]})]})}),e(te,{open:Q,onDismiss:()=>{z(!1)},initialFocusRef:de,children:a("div",{class:"bottom-sheet-container marker-sheet-container",children:[!!o&&!!s&&a("div",{class:"insignificant",style:{width:"100%",textAlign:"center"},children:["Air distance to marker:"," ",Be(Me).humanize()]}),o?a(K,{children:[a("button",{type:"button",onClick:()=>{y(null),_.current=o,D(!1)},children:[e("span",{children:"\u274C"})," Remove marker"]}),a("button",{type:"button",onClick:()=>{D(!C),z(!1)},class:C?"":"faded",children:[e("span",{children:"\u{1F4CC}"})," ",C?"Unpin marker":"Pin marker"]}),!!h&&a("button",{type:"button",onClick:()=>{var r;const t=new $e.LngLatBounds;h.features.forEach(m=>{m.geometry.coordinates.forEach(k=>{t.extend(k)})}),(r=n.current)==null||r.fitBounds(t,{padding:100}),z(!1)},children:[e("span",{children:"\u{1F52D}"})," Zoom whole route"]}),a("button",{type:"button",onClick:()=>{var t;(t=n.current)==null||t.flyTo({center:o}),z(!1)},children:[e("span",{children:"\u{1F50D}"})," Fly to marker"]}),a("button",{type:"button",class:"bold block",ref:de,onClick:async()=>{if(A(!0),z(!1),console.log({geolocationGeoJSON:s,destinationMarker:o}),!s){alert("Please allow location access to generate routes");return}const t=await st(s.features[0].geometry.coordinates,[o.lng,o.lat]);Y(t),A(!1),D(!0)},children:[e("span",{children:"\u{1F503}"})," Generate walk routes to marker"]})]}):a(K,{children:[!o&&a("button",{type:"button",onClick:()=>{var r;const t=(r=n.current)==null?void 0:r.getCenter();y({lat:t.lat,lng:t.lng}),z(!1)},children:[e("span",{children:"\u{1F4CC}"})," Place marker on map"]}),!o&&_.current&&a("button",{type:"button",onClick:()=>{y(_.current)},children:[e("span",{children:"\u267B\uFE0F"})," Restore marker"]}),h?a("button",{type:"button",onClick:()=>{$.current=h,Y(null)},children:[e("span",{children:"\u{1F5D1}\uFE0F"})," Clear route"]}):$.current&&a("button",{type:"button",onClick:()=>{Y($.current)},children:[e("span",{children:"\u267B\uFE0F"})," Restore route"]})]})]})})]})]})}tt(e(At,{}),document.getElementById("app"));
//# sourceMappingURL=index.dcc5f31a.js.map
